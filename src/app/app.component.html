
<app-header></app-header>

<div class="bg-danger text-white text-center p-2" *ngIf="isDataAdded">{{displayMessage}}</div>
<div class="text-center bg-white m-3 tableHeight">
  <table class="table table-striped table-hover col-md-10 offset-md-1">
    <thead class="thead-dark">
      <tr>
        <th>Description</th>
        <th>Priority</th>
        <th>Status</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of dataValues">
        <td>{{data.description}}</td>
        <td>{{data.priority}}</td>
        <td>{{data.status}}</td>
        <td><button class="btn btn-danger" (click)="deleteRow(data.name)">Delete</button>
          <button class="btn btn-primary ml-1" data-toggle="modal" data-target="#modalId" (click)="openDialogForUpdate(data)">Update</button></td>
      </tr>
    </tbody>
  </table>
  
  <div id="modalId" class="modal fade" role="dialog" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
         <h4 class="modal-title">Insert a row</h4>
        </div>
        <div class="modal-body">
          <div class="d-flex p-1"><label>Description</label><input class="form-control" type="text" [(ngModel)]="insertRowData.description" required /></div>
          <div class="d-flex p-1"><label>Priority</label><input class="form-control" type="text" [(ngModel)]="insertRowData.priority" required /></div>
          <div class="d-flex p-1"><label>Status</label><input class="form-control" type="text" [(ngModel)]="insertRowData.status" required /></div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-default" data-dismiss="modal" (click)="cancel()">Cancel</button>
          <button class="btn btn-primary" data-dismiss="modal" (click)="insertRows()" *ngIf="isAdd">Add</button>
          <button class="btn btn-primary" data-dismiss="modal" (click)="updateRows()" *ngIf="isUpdate">Update</button>
        </div>
      </div>
    </div>
  </div>

</div>
<div class="text-center">
  <button class="btn btn-primary" data-toggle="modal" data-target="#modalId" (click)="isAdd = true">Add a new row</button>
</div>

<app-footer></app-footer>